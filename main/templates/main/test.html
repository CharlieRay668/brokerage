{% extends "main/home.html" %}

{% block otherlinks %}
<a href = '/home/'>Home</a>
{% endblock %}

{% block constantcontent %}
    <div style="margin: auto; text-align: center;">
        <h6>Welcome {{user.email}}, here are your past orders</h6>
        <div class="btn-group" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-info btn-lg" onclick="window.location.href='/history/orders'">Orders</button>
            <button type="button" class="btn btn-info btn-lg" onclick="window.location.href='/history/trades'">Trades</button>
        </div>
    </div>
    <br>
    <h4 style="text-align: center;">Orders</h4>
    <div style="width: 50%; margin: auto;">
        {% if trades %}
            <table class="table table-hover">
                <thead>
                <tr>
                    <th scope="col">Instrument</th>
                    <th scope="col">% Profit</th>
                    <th scope="col">$ Profit</th>
                    <th scope="col">Open Time</th>
                    <th scope="col">Close Time</th>
                </tr>
                </thead>
                <tbody>
                    {% for position in positions %}
                        <tr class="table-active">
                            <td scope="row">{{ position.symbol }}</td>
                            <td>{{ position.perc_profit }}</td>
                            <td>{{ position.dollar_profit }}</td>
                            <td>{{ position.date_opened}} EST</td>
                            <td>{{ position.date_close}} EST</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}
        {% if not trades %}
            <table class="table table-hover">
                <thead>
                <tr>
                    <th scope="col">Instrument</th>
                    <th scope="col">Qty</th>
                    <th scope="col">Fill Price</th>
                    <th scope="col">Fill Time</th>
                </tr>
                </thead>
                <tbody>
                    {% for position in positions %}
                        <tr class="table-active">
                            <td scope="row">{{ position.symbol }}</td>
                            <td>{{ position.quantity }}</td>
                            <td>{{ position.fill_price }}</td>
                            <td>{{ position.order_execution_date}} EST</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}
    </div>
{% endblock %}

